// Extensions.swift
//
// Generated by swagger-codegen
// https://github.com/swagger-api/swagger-codegen
//

import Alamofire
import SwiftyJSON

extension Bool: JSONEncodable {
    public func encodeToJSON() -> AnyObject { return self }
}

extension Bool: JSONDecodable {
    public init?(json: JSON?) {
        guard let bool = Bool.fromJSON(json) else {
            return nil
        }
        self = bool
    }
    public static func fromJSON(json: JSON?) -> Bool? {
        return json?.bool
    }
}

extension Float: JSONEncodable {
    public func encodeToJSON() -> AnyObject { return self }
}

extension Float: JSONDecodable {
    public init?(json: JSON?) {
        guard let float = Float.fromJSON(json) else {
            return nil
        }
        self = float
    }
    public static func fromJSON(json: JSON?) -> Float? {
        return json?.float
    }
}

extension Int: JSONEncodable {
    public func encodeToJSON() -> AnyObject { return self }
}

extension Int: JSONDecodable {
    public init?(json: JSON?) {
        guard let int = Int.fromJSON(json) else {
            return nil
        }
        self = int
    }
    public static func fromJSON(json: JSON?) -> Int? {
        return json?.int
    }
}

extension Int32: JSONEncodable {
    public func encodeToJSON() -> AnyObject { return NSNumber(int: self) }
}

extension Int32: JSONDecodable {
    public init?(json: JSON?) {
        guard let int32 = Int32.fromJSON(json) else {
            return nil
        }
        self = int32
    }
    public static func fromJSON(json: JSON?) -> Int32? {
        return json?.int32
    }
}

extension Int64: JSONEncodable {
    public func encodeToJSON() -> AnyObject { return NSNumber(longLong: self) }
}

extension Int64: JSONDecodable {
    public init?(json: JSON?) {
        guard let int64 = Int64.fromJSON(json) else {
            return nil
        }
        self = int64
    }
    public static func fromJSON(json: JSON?) -> Int64? {
        return json?.int64
    }
}


extension Double: JSONEncodable {
    public func encodeToJSON() -> AnyObject { return self }
}

extension Double: JSONDecodable {
    public init?(json: JSON?) {
        guard let double = Double.fromJSON(json) else {
            return nil
        }
        self = double
    }
    public static func fromJSON(json: JSON?) -> Double? {
        return json?.double
    }
}

extension String: JSONEncodable {
    public func encodeToJSON() -> AnyObject { return self }
}

extension String: JSONDecodable {
    public init?(json: JSON?) {
        guard let string = String.fromJSON(json) else {
            return nil
        }
        self = string
    }
    public static func fromJSON(json: JSON?) -> String? {
        return json?.string
    }
}

private func encodeIfPossible<T>(object: T) -> AnyObject {
    if object is JSONEncodable {
        return (object as! JSONEncodable).encodeToJSON()
    } else {
        return object as! AnyObject
    }
}

extension Array: JSONEncodable {
    public func encodeToJSON() -> AnyObject {
        return self.map(encodeIfPossible)
    }
}

//extension Array: JSONDecodable {}
//
//extension Array where Element : JSONDecodable {
//    static func fromJSON(json: JSON?) -> [JSONDecodable]? {
//        return json?.array
//    }
//}


extension Dictionary: JSONEncodable {
    public func encodeToJSON() -> AnyObject {
        var dictionary = [NSObject:AnyObject]()
        for (key, value) in self {
            dictionary[key as! NSObject] = encodeIfPossible(value)
        }
        return dictionary
    }
}

//extension Dictionary : JSONDecodable {}
//
//extension Dictionary where Key: String, Value: JSON {
//    static func fromJSON(json: JSON?) -> Dictionary<String, JSON>? {
//        return json?.dictionary
//    }
//}

private let dateFormatter: NSDateFormatter = {
    let dateFormatter = NSDateFormatter()
    dateFormatter.dateFormat = "yyyy-MM-dd"
    return dateFormatter
}()

extension NSDate: JSONEncodable {
    public func encodeToJSON() -> AnyObject {
        return dateFormatter.stringFromDate(self)
    }
}

extension NSDate {
    static func fromJSON(json: JSON?) -> NSDate? {
        guard let dateString = json?.string else {
            return nil
        }
        return dateFormatter.dateFromString(dateString)
    }
}
